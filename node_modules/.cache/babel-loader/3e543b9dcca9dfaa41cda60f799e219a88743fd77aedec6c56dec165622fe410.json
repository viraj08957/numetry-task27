{"ast":null,"code":"import _objectSpread from\"C:/Users/Viraj/Desktop/task 27/login-register-mern/client/numetry-task27/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Viraj/Desktop/task 27/login-register-mern/client/numetry-task27/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Viraj/Desktop/task 27/login-register-mern/client/numetry-task27/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Viraj/Desktop/task 27/login-register-mern/client/numetry-task27/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{Navigate,useNavigate}from\"react-router-dom\";import{toast,Toaster}from\"react-hot-toast\";import{useFormik}from\"formik\";import{resetPassword}from\"../helper/helper\";import styles from\"../styles/Username.module.css\";import{resetPasswordValidate}from\"../helper/validate\";import{useAuthStore}from\"../store/store\";import useFetch from\"../hooks/fetch.hook\";//\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Reset(){var navigate=useNavigate();var username=useAuthStore(function(state){return state.auth.username;});var _useFetch=useFetch(\"createResetSession\"),_useFetch2=_slicedToArray(_useFetch,1),_useFetch2$=_useFetch2[0],isLoading=_useFetch2$.isLoading,status=_useFetch2$.status,serverError=_useFetch2$.serverError;var formik=useFormik({initialValues:{password:\"\",confirmPassword:\"\"},validate:resetPasswordValidate,validateOnBlur:false,validateOnChange:false,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(values){var resetPasswordPromise;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:resetPasswordPromise=resetPassword({username:username,password:values.password});toast.promise(resetPasswordPromise,{loading:\"Updating...\",success:/*#__PURE__*/_jsx(\"b\",{children:\"Your password has been reset successfully\"}),error:/*#__PURE__*/_jsx(\"b\",{children:\"Could not reset. Please try again\"})});resetPasswordPromise.then(function(){navigate(\"/password\");});case 3:case\"end\":return _context.stop();}},_callee);}));function onSubmit(_x){return _onSubmit.apply(this,arguments);}return onSubmit;}()});// useEffect(() => {\n//   console.log(apiData)\n// })\nif(isLoading)return/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-semibold \",children:\"Loading...\"});if(serverError)return/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl text-red-500\",children:serverError.message});if(status&&status!==201)return/*#__PURE__*/_jsx(Navigate,{to:\"/password\",replace:true});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-center\",reverseOrder:false}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen \",children:/*#__PURE__*/_jsx(\"div\",{className:styles.glass,children:/*#__PURE__*/_jsxs(\"div\",{className:\"title flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-5xl font-bold\",children:\"Reset\"}),/*#__PURE__*/_jsx(\"span\",{className:\"py-4 text-xl w-2/3 text-gray-500 text-center\",children:\"Enter your password and don't forgot it\"}),/*#__PURE__*/_jsx(\"form\",{className:\"py-2\",onSubmit:formik.handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"textbox flex flex-col items-center gap-6\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"password\",className:styles.textbox,placeholder:\"New Password\",name:\"password\"},formik.getFieldProps(\"password\"))),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"password\",className:styles.textbox,placeholder:\"Confirm Password\",name:\"confirmPassword\"},formik.getFieldProps(\"confirmPassword\"))),/*#__PURE__*/_jsx(\"button\",{className:styles.btn,type:\"submit\",children:\"Confirm\"})]})})]})})})]});}","map":{"version":3,"names":["React","Navigate","useNavigate","toast","Toaster","useFormik","resetPassword","styles","resetPasswordValidate","useAuthStore","useFetch","Reset","navigate","username","state","auth","isLoading","status","serverError","formik","initialValues","password","confirmPassword","validate","validateOnBlur","validateOnChange","onSubmit","values","resetPasswordPromise","promise","loading","success","error","then","message","glass","handleSubmit","textbox","getFieldProps","btn"],"sources":["C:/Users/Viraj/Desktop/task 27/login-register-mern/client/numetry-task27/src/component/Reset.js"],"sourcesContent":["import React from \"react\"\r\nimport { Navigate, useNavigate } from \"react-router-dom\"\r\nimport { toast, Toaster } from \"react-hot-toast\"\r\nimport { useFormik } from \"formik\"\r\nimport { resetPassword } from \"../helper/helper\"\r\nimport styles from \"../styles/Username.module.css\"\r\nimport { resetPasswordValidate } from \"../helper/validate\"\r\nimport { useAuthStore } from \"../store/store\"\r\nimport useFetch from \"../hooks/fetch.hook\"\r\n//\r\nexport default function Reset() {\r\n  const navigate = useNavigate()\r\n  const username = useAuthStore((state) => state.auth.username)\r\n  const [{ isLoading, status, serverError }] = useFetch(\"createResetSession\")\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n    },\r\n    validate: resetPasswordValidate,\r\n    validateOnBlur: false,\r\n    validateOnChange: false,\r\n    onSubmit: async (values) => {\r\n      let resetPasswordPromise = resetPassword({\r\n        username,\r\n        password: values.password,\r\n      })\r\n      toast.promise(resetPasswordPromise, {\r\n        loading: \"Updating...\",\r\n        success: <b>Your password has been reset successfully</b>,\r\n        error: <b>Could not reset. Please try again</b>,\r\n      })\r\n      resetPasswordPromise.then(() => {\r\n        navigate(\"/password\")\r\n      })\r\n    },\r\n  })\r\n  // useEffect(() => {\r\n  //   console.log(apiData)\r\n  // })\r\n  if (isLoading) return <h1 className=\"text-2xl font-semibold \">Loading...</h1>\r\n  if (serverError)\r\n    return <h1 className=\"text-xl text-red-500\">{serverError.message}</h1>\r\n  if (status && status !== 201)\r\n    return <Navigate to={\"/password\"} replace={true}></Navigate>\r\n  return (\r\n    <div className=\"container mx-auto\">\r\n      <Toaster position=\"top-center\" reverseOrder={false}></Toaster>\r\n      <div className=\"flex justify-center items-center h-screen \">\r\n        <div className={styles.glass}>\r\n          <div className=\"title flex flex-col items-center\">\r\n            <h4 className=\"text-5xl font-bold\">Reset</h4>\r\n            <span className=\"py-4 text-xl w-2/3 text-gray-500 text-center\">\r\n              Enter your password and don't forgot it\r\n            </span>\r\n            <form className=\"py-2\" onSubmit={formik.handleSubmit}>\r\n              <div className=\"textbox flex flex-col items-center gap-6\">\r\n                <input\r\n                  type=\"password\"\r\n                  className={styles.textbox}\r\n                  placeholder=\"New Password\"\r\n                  name=\"password\"\r\n                  {...formik.getFieldProps(\"password\")}\r\n                />\r\n                <input\r\n                  type=\"password\"\r\n                  className={styles.textbox}\r\n                  placeholder=\"Confirm Password\"\r\n                  name=\"confirmPassword\"\r\n                  {...formik.getFieldProps(\"confirmPassword\")}\r\n                />\r\n                <button className={styles.btn} type=\"submit\">\r\n                  Confirm\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}