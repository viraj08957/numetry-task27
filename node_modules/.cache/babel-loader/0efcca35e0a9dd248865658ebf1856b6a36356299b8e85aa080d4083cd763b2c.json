{"ast":null,"code":"import _objectSpread from\"C:/Users/Viraj/Desktop/task 27/login-register-mern/client/numetry-task27/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Viraj/Desktop/task 27/login-register-mern/client/numetry-task27/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Viraj/Desktop/task 27/login-register-mern/client/numetry-task27/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Viraj/Desktop/task 27/login-register-mern/client/numetry-task27/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import avatar from\"../assets/profile.png\";import toast,{Toaster}from\"react-hot-toast\";import{useFormik}from\"formik\";import{registerValidation}from\"../helper/validate\";import convertToBase64 from\"../helper/convert\";import styles from\"../styles/Username.module.css\";import{registerUser}from\"../helper/helper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var navigate=useNavigate();var formik=useFormik({initialValues:{email:\"\",username:\"\",password:\"\"},validate:registerValidation,validateOnBlur:false,validateOnChange:false,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(values){var registerPromise;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:values=Object.assign(values,{profile:file||\"\"});console.log(\"register values : \",values);registerPromise=registerUser(values);// navigate(\"/\")\ntoast.promise(registerPromise,{loading:\"Creating...\",success:/*#__PURE__*/_jsx(\"b\",{children:\"Register successfully ...\"}),error:/*#__PURE__*/_jsx(\"b\",{children:\"Could not Register\"})});registerPromise.then(function(){navigate(\"/\");});case 5:case\"end\":return _context.stop();}},_callee);}));function onSubmit(_x){return _onSubmit.apply(this,arguments);}return onSubmit;}()});/** formik doesn't support file upload so we need to create this handler */var onUpload=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var base64;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return convertToBase64(e.target.files[0]);case 2:base64=_context2.sent;setFile(base64);case 4:case\"end\":return _context2.stop();}},_callee2);}));return function onUpload(_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-center\",reverseOrder:false}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:styles.glass_register,style:{width:\"45%\",paddingTop:\"3em\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-5xl font-bold\",children:\"Register\"}),/*#__PURE__*/_jsx(\"span\",{className:\"py-4 text-xl w-2/3 text-center text-gray-500\",children:\"Happy to join you!\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"py-1\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile flex justify-center py-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"profile\",children:/*#__PURE__*/_jsx(\"img\",{src:file||avatar,className:styles.profile_img,alt:\"avatar\"})}),/*#__PURE__*/_jsx(\"input\",{onChange:onUpload,type:\"file\",id:\"profile\",name:\"profile\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"textbox flex flex-col items-center gap-6\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},formik.getFieldProps(\"email\")),{},{className:styles.textbox_register,type:\"text\",placeholder:\"Email*\"})),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},formik.getFieldProps(\"username\")),{},{className:styles.textbox_register,type:\"text\",placeholder:\"Username*\"})),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},formik.getFieldProps(\"password\")),{},{className:styles.textbox_register,type:\"text\",placeholder:\"Password*\"})),/*#__PURE__*/_jsx(\"button\",{className:styles.btn,type:\"submit\",children:\"Register\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500\",children:[\"Already Register?\",\" \",/*#__PURE__*/_jsx(Link,{className:\"text-red-500\",to:\"/\",children:\"Login Now\"})]})})]})]})})]});}","map":{"version":3,"names":["React","useState","Link","useNavigate","avatar","toast","Toaster","useFormik","registerValidation","convertToBase64","styles","registerUser","Register","file","setFile","navigate","formik","initialValues","email","username","password","validate","validateOnBlur","validateOnChange","onSubmit","values","Object","assign","profile","console","log","registerPromise","promise","loading","success","error","then","onUpload","e","target","files","base64","glass_register","width","paddingTop","handleSubmit","profile_img","getFieldProps","textbox_register","btn"],"sources":["C:/Users/Viraj/Desktop/task 27/login-register-mern/client/numetry-task27/src/component/Register.js"],"sourcesContent":["import React, { useState } from \"react\"\r\nimport { Link, useNavigate } from \"react-router-dom\"\r\nimport avatar from \"../assets/profile.png\"\r\nimport toast, { Toaster } from \"react-hot-toast\"\r\nimport { useFormik } from \"formik\"\r\nimport { registerValidation } from \"../helper/validate\"\r\nimport convertToBase64 from \"../helper/convert\"\r\n\r\nimport styles from \"../styles/Username.module.css\"\r\nimport { registerUser } from \"../helper/helper\"\r\n\r\nexport default function Register() {\r\n  const [file, setFile] = useState()\r\n  const navigate = useNavigate()\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n    },\r\n    validate: registerValidation,\r\n    validateOnBlur: false,\r\n    validateOnChange: false,\r\n    onSubmit: async (values) => {\r\n      values = Object.assign(values, { profile: file || \"\" })\r\n      console.log(\"register values : \", values)\r\n      let registerPromise = registerUser(values)\r\n      // navigate(\"/\")\r\n      toast.promise(registerPromise, {\r\n        loading: \"Creating...\",\r\n        success: <b>Register successfully ...</b>,\r\n        error: <b>Could not Register</b>,\r\n      })\r\n      registerPromise.then(function () {\r\n        navigate(\"/\")\r\n      })\r\n    },\r\n  })\r\n\r\n  /** formik doesn't support file upload so we need to create this handler */\r\n  const onUpload = async (e) => {\r\n    const base64 = await convertToBase64(e.target.files[0])\r\n    setFile(base64)\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto\">\r\n      <Toaster position=\"top-center\" reverseOrder={false}></Toaster>\r\n\r\n      <div className=\"flex justify-center items-center h-screen\">\r\n        <div\r\n          className={styles.glass_register}\r\n          style={{ width: \"45%\", paddingTop: \"3em\" }}\r\n        >\r\n          <div className=\"title flex flex-col items-center\">\r\n            <h4 className=\"text-5xl font-bold\">Register</h4>\r\n            <span className=\"py-4 text-xl w-2/3 text-center text-gray-500\">\r\n              Happy to join you!\r\n            </span>\r\n          </div>\r\n\r\n          <form className=\"py-1\" onSubmit={formik.handleSubmit}>\r\n            <div className=\"profile flex justify-center py-4\">\r\n              <label htmlFor=\"profile\">\r\n                <img\r\n                  src={file || avatar}\r\n                  className={styles.profile_img}\r\n                  alt=\"avatar\"\r\n                />\r\n              </label>\r\n\r\n              <input\r\n                onChange={onUpload}\r\n                type=\"file\"\r\n                id=\"profile\"\r\n                name=\"profile\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"textbox flex flex-col items-center gap-6\">\r\n              <input\r\n                {...formik.getFieldProps(\"email\")}\r\n                className={styles.textbox_register}\r\n                type=\"text\"\r\n                placeholder=\"Email*\"\r\n              />\r\n              <input\r\n                {...formik.getFieldProps(\"username\")}\r\n                className={styles.textbox_register}\r\n                type=\"text\"\r\n                placeholder=\"Username*\"\r\n              />\r\n              <input\r\n                {...formik.getFieldProps(\"password\")}\r\n                className={styles.textbox_register}\r\n                type=\"text\"\r\n                placeholder=\"Password*\"\r\n              />\r\n              <button className={styles.btn} type=\"submit\">\r\n                Register\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"text-center py-4\">\r\n              <span className=\"text-gray-500\">\r\n                Already Register?{\" \"}\r\n                <Link className=\"text-red-500\" to=\"/\">\r\n                  Login Now\r\n                </Link>\r\n              </span>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}