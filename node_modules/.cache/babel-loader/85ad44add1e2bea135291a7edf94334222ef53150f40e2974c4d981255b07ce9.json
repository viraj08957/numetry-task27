{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Viraj/Desktop/task 27/login-register-mern/client/numetry-task27/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Viraj/Desktop/task 27/login-register-mern/client/numetry-task27/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import toast from\"react-hot-toast\";import{authenticate}from\"./helper\";// validate login page username\nexport function usernameValidate(_x){return _usernameValidate.apply(this,arguments);}function _usernameValidate(){_usernameValidate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(values){var errors,status;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:errors=usernameVerify({},values);if(!values.username){_context.next=6;break;}_context.next=4;return authenticate(values.username);case 4:status=_context.sent;if(status!==200){errors.exist=toast.error(\"User does not exist\");}case 6:return _context.abrupt(\"return\",errors);case 7:case\"end\":return _context.stop();}},_callee);}));return _usernameValidate.apply(this,arguments);}export function passwordValidate(_x2){return _passwordValidate.apply(this,arguments);}function _passwordValidate(){_passwordValidate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(values){var errors;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:errors=passwordVerify({},values);return _context2.abrupt(\"return\",errors);case 2:case\"end\":return _context2.stop();}},_callee2);}));return _passwordValidate.apply(this,arguments);}export function resetPasswordValidate(_x3){return _resetPasswordValidate.apply(this,arguments);}function _resetPasswordValidate(){_resetPasswordValidate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(values){var errors;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:errors=recoveryVerify({},values);return _context3.abrupt(\"return\",errors);case 2:case\"end\":return _context3.stop();}},_callee3);}));return _resetPasswordValidate.apply(this,arguments);}export function registerValidation(_x4){return _registerValidation.apply(this,arguments);}function _registerValidation(){_registerValidation=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(values){var errors;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:errors=usernameVerify({},values);passwordVerify(errors,values);emailVerify(errors,values);return _context4.abrupt(\"return\",errors);case 4:case\"end\":return _context4.stop();}},_callee4);}));return _registerValidation.apply(this,arguments);}export function profileValidation(_x5){return _profileValidation.apply(this,arguments);}function _profileValidation(){_profileValidation=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(values){var errors;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:errors=usernameVerify({},values,true);case 1:case\"end\":return _context5.stop();}},_callee5);}));return _profileValidation.apply(this,arguments);}function recoveryVerify(){var error=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var values=arguments.length>1?arguments[1]:undefined;if(values.password!==values.confirmPassword){error.username=toast.error(\"Password not match ..!\");}return error;}/** ************************************************* */ /** validate password */function passwordVerify(){var errors=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var values=arguments.length>1?arguments[1]:undefined;var specialChars=/[`!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~]/;if(!values.password){errors.password=toast.error(\"Password Required...!\");}else if(values.password.includes(\" \")){errors.password=toast.error(\"Wrong Password...!\");}else if(values.password.length<4){errors.password=toast.error(\"Password must be more than 4 characters long\");}else if(!specialChars.test(values.password)){errors.password=toast.error(\"Password must have special character\");}return errors;}//validate username\nfunction usernameVerify(){var error=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var values=arguments.length>1?arguments[1]:undefined;var profile=arguments.length>2?arguments[2]:undefined;// validate field of profile\nif(profile){if(!values.firstName){error.username=toast.error(\"First Name is required...!\");}else if(values.firstName.includes(\" \")||values.firstName.toLowerCase().includes(\"username\")){error.username=toast.error(\"Invalid first name...!\");}}//validate register field\nelse{if(!values.username){error.username=toast.error(\"Username is required...!\");}else if(values.username.includes(\" \")||values.username.toLowerCase().includes(\"username\")){error.username=toast.error(\"Invalid Username...!\");}}return error;}/** validate email */function emailVerify(){var error=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var values=arguments.length>1?arguments[1]:undefined;if(!values.email){error.email=toast.error(\"Email Required...!\");}else if(values.email.includes(\" \")){error.email=toast.error(\"Wrong Email...!\");}else if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)){error.email=toast.error(\"Invalid email address...!\");}return error;}","map":{"version":3,"names":["toast","authenticate","usernameValidate","values","errors","usernameVerify","username","status","exist","error","passwordValidate","passwordVerify","resetPasswordValidate","recoveryVerify","registerValidation","emailVerify","profileValidation","password","confirmPassword","specialChars","includes","length","test","profile","firstName","toLowerCase","email"],"sources":["C:/Users/Viraj/Desktop/task 27/login-register-mern/client/numetry-task27/src/helper/validate.js"],"sourcesContent":["import toast from \"react-hot-toast\"\r\nimport { authenticate } from \"./helper\"\r\n\r\n// validate login page username\r\n\r\nexport async function usernameValidate(values) {\r\n  const errors = usernameVerify({}, values)\r\n\r\n  if (values.username) {\r\n    // check if user exists\r\n    const status = await authenticate(values.username)\r\n\r\n    if (status !== 200) {\r\n      errors.exist = toast.error(\"User does not exist\")\r\n    }\r\n  }\r\n\r\n  return errors\r\n}\r\n\r\nexport async function passwordValidate(values) {\r\n  const errors = passwordVerify({}, values)\r\n  return errors\r\n}\r\n\r\nexport async function resetPasswordValidate(values) {\r\n  const errors = recoveryVerify({}, values)\r\n  return errors\r\n}\r\n\r\nexport async function registerValidation(values) {\r\n  const errors = usernameVerify({}, values)\r\n  passwordVerify(errors, values)\r\n  emailVerify(errors, values)\r\n\r\n  return errors\r\n}\r\n\r\nexport async function profileValidation(values) {\r\n  const errors = usernameVerify({}, values, true)\r\n}\r\n\r\nfunction recoveryVerify(error = {}, values) {\r\n  if (values.password !== values.confirmPassword) {\r\n    error.username = toast.error(\"Password not match ..!\")\r\n  }\r\n  return error\r\n}\r\n\r\n/** ************************************************* */\r\n\r\n/** validate password */\r\nfunction passwordVerify(errors = {}, values) {\r\n  const specialChars = /[`!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~]/\r\n\r\n  if (!values.password) {\r\n    errors.password = toast.error(\"Password Required...!\")\r\n  } else if (values.password.includes(\" \")) {\r\n    errors.password = toast.error(\"Wrong Password...!\")\r\n  } else if (values.password.length < 4) {\r\n    errors.password = toast.error(\r\n      \"Password must be more than 4 characters long\"\r\n    )\r\n  } else if (!specialChars.test(values.password)) {\r\n    errors.password = toast.error(\"Password must have special character\")\r\n  }\r\n\r\n  return errors\r\n}\r\n\r\n//validate username\r\nfunction usernameVerify(error = {}, values, profile) {\r\n  // validate field of profile\r\n  if (profile) {\r\n    if (!values.firstName) {\r\n      error.username = toast.error(\"First Name is required...!\")\r\n    } else if (\r\n      values.firstName.includes(\" \") ||\r\n      values.firstName.toLowerCase().includes(\"username\")\r\n    ) {\r\n      error.username = toast.error(\"Invalid first name...!\")\r\n    }\r\n  } //validate register field\r\n  else {\r\n    if (!values.username) {\r\n      error.username = toast.error(\"Username is required...!\")\r\n    } else if (\r\n      values.username.includes(\" \") ||\r\n      values.username.toLowerCase().includes(\"username\")\r\n    ) {\r\n      error.username = toast.error(\"Invalid Username...!\")\r\n    }\r\n  }\r\n  return error\r\n}\r\n\r\n/** validate email */\r\nfunction emailVerify(error = {}, values) {\r\n  if (!values.email) {\r\n    error.email = toast.error(\"Email Required...!\")\r\n  } else if (values.email.includes(\" \")) {\r\n    error.email = toast.error(\"Wrong Email...!\")\r\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n    error.email = toast.error(\"Invalid email address...!\")\r\n  }\r\n\r\n  return error\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}